export function initNavToggle(){const e=document.createElement("button");e.innerHTML="â˜°",e.className="md:hidden text-2xl p-2 focus:outline-none",e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","nav-menu"),e.setAttribute("aria-label","Toggle navigation menu");const t=document.querySelector("nav > div > div.flex.items-center.space-x-4");t&&(t.id="nav-menu",t.classList.add("transition-all","duration-300","ease-in-out"),e.addEventListener("click",()=>{const n=t.classList.contains("hidden");t.classList.toggle("hidden"),e.setAttribute("aria-expanded",!n)}),t.parentNode.insertBefore(e,t),t.classList.add("hidden","flex-col","space-y-2","md:flex","md:flex-row","md:space-x-4"))}export function initDarkMode(){const e=document.createElement("button");e.textContent="ðŸŒ™",e.className="ml-4 px-3 py-1 border rounded text-indigo-600 hover:bg-indigo-100 focus:outline-none",e.title="Toggle Dark Mode",e.setAttribute("aria-label","Toggle dark mode"),e.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?(e.textContent="â˜€ï¸",localStorage.setItem("darkMode","enabled")):(e.textContent="ðŸŒ™",localStorage.setItem("darkMode","disabled"))});const t=document.querySelector("nav > div > div.flex.items-center.space-x-4");t&&t.appendChild(e),("enabled"===localStorage.getItem("darkMode")||window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(document.documentElement.classList.add("dark"),e.textContent="â˜€ï¸")}export function initFadeIn(){const e=document.querySelectorAll("section, main, header, footer");e.forEach(e=>{e.classList.add("opacity-0","transition-opacity","duration-1000","ease-in-out")}),setTimeout(()=>{e.forEach(e=>{e.classList.remove("opacity-0"),e.classList.add("opacity-100")})},100)}export function initSearch(){const e=document.querySelector('input[placeholder="Search tools..."]'),t=document.querySelector('button[type="submit"]')||document.querySelector("button").contains("Search"),n=document.querySelectorAll(".grid > div");e&&n.length>0&&(e.addEventListener("input",e=>{const t=e.target.value.toLowerCase();n.forEach(e=>{const n=e.querySelector("h3").textContent.toLowerCase(),o=e.querySelector("p").textContent.toLowerCase();n.includes(t)||o.includes(t)?e.style.display="block":e.style.display="none"})}),e.addEventListener("blur",()=>{""===e.value.trim()?e.setCustomValidity("Please enter a search term"):e.setCustomValidity("")}),t&&t.addEventListener("click",t=>{t.preventDefault();const n=e.value.trim();""===n?(alert("Please enter a search term"),e.focus()):alert(`Searching for: ${n}`)}))}export function initXSSScannerDemo(){const e=document.getElementById("scan-xss"),t=document.getElementById("xss-input"),n=document.getElementById("xss-output");e&&t&&n&&e.addEventListener("click",()=>{const e=scanForXSS(t.value);n.value=e?"Potential XSS detected!":"No XSS detected."})}function scanForXSS(e){return/<script.*?>.*?<\/script.*?>|on\w+=["'].*?["']/gi.test(e)}export function init(){initNavToggle(),initDarkMode(),initFadeIn(),initSearch(),initXSSScannerDemo();const e=document.getElementById("scan-xss");if(e){new MutationObserver(()=>{document.documentElement.classList.contains("dark")?e.classList.add("dark"):e.classList.remove("dark")}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}}document.addEventListener("DOMContentLoaded",init);